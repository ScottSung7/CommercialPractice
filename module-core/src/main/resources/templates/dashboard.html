<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta id="_csrf" name="_csrf" th:content="${_csrf.token}"/>
    <meta id="_csrf_header" name="_csrf_header" th:content="${_csrf.headerName}"/>
    <title>Title</title>
<script>
    const header = document.querySelector('meta[name="_csrf_header"]').content;
    const token = document.querySelector('meta[name="_csrf"]').content;
    const byFetch = () => {
        fetch("http://localhost:8080/hi", {
            method: "POST",
            headers: {
                'header': header,
                "Content-Type": "application/json",
                'X-CSRF-Token': token
            },
            body: JSON.stringify({
                title: "hello"
            }),
        })
            .then((response) => response.json())
            .then((data) => console.log(data));
    };

</script>
</head>
<body>
    <h1>dashboard</h1>
        <input type="button" value="fetch"
               onclick="byFetch()">



    <button th:onclick="hi()">button</button>
</body>
<script>
    const hi = function(){
        console.log(header);
        console.log(token);
    }
</script>
</html>